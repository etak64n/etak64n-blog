+++
title = "Cloudflare で画像を配信するベストプラクティス"
date = 2025-09-12
updated = 2025-09-12
draft = false
taxonomies = { tags=["Cloudflare Images", "Cloudflare R2"], categories=["Cloudflare"] }
math = true
[extra]
author = "etak64n"
hero = "/images/hero/placeholder.svg"
toc = true
+++

## Cloudflare で画像を配信するベストプラクティス

Cloudflare を活用した画像の配信方法は以下のような方法があります。

1. Cloudflare R2 に画像を置く
2. Cloudflare R2 に画像を置いて、Cloudflare Images でリサイズして配信する
3. Amazon S3 に画像を置いて、Cloudflare Images でリサイズして配信する
4. Cloudflare Images で配信する


| 構成                               | 向いているユースケース                                                  | 損益分岐点の目安（概算）                                                                                                                                                                                                                        | 主なコストが乗る場所                                                                                                                                         | おすすめ度 |
| -------------------------------- | ------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- | ----- |
| **1) R2 に置いてそのまま配信（変換なし）**       | 事前に最適化（WebP/AVIF・複数サイズ）をビルドで作る／静的サイト・CDN配信中心／運用をシンプルにしたい     | 画像加工を**しない**前提なら最安になりやすい。大量配信でも **R2 のエグレスは常に \$0**、課金は**保管（\$0.015/GB‑月）**と**Class B 読取**中心（キャッシュで低減）。([Cloudflare Docs][1])                                                                                                       | R2：保管、Class A/B（無料枠：保管10GB、A 100万、B 1,000万/月）。エグレス \$0。([Cloudflare Docs][1])                                                                      | ★★★☆☆ |
| **2) R2 に置き、Images でリサイズして配信**   | **よく閲覧される同一サイズ**がある（商品一覧のサムネ等）／R2 をそのまま使いたいが**オンザフライ変換**は欲しい | **同一サイズ×画像**ごとの**ユニーク変換 = 月1回**カウント。**1変換 = \$0.0005**（\$0.50/1,000）。**配信回数に依存しない**ため、**そのサイズが月50回以上**見られるなら、④（Images配信）の **Delivered 料**（\$1/100k=**\$0.00001/回**）より安くなりやすい（\$0.0005 ÷ \$0.00001 = **50回**）。([Cloudflare Docs][2]) | Images：**Transformed**のみ（最初の5,000回/月は無料）。R2：保管・操作。**Delivered 課金なし**。([Cloudflare Docs][2])                                                        | ★★★★★ |
| **3) S3 に置き、Images でリサイズして配信**   | 既存が **S3 固定**で移行しづらい／一時的な併用                                  | **S3 のインターネット向けエグレス**は**月100GBまでは無料**だが、超えると**リージョン単価**が発生（例：EU(Ireland)で\$0.09/GB）。このため **100GB/月を越える常時配信**なら、\*\*エグレス\$0のR2(②)\*\*がコスト優位になりやすい。([Amazon Web Services, Inc.][3])                                                   | Images：**Transformed**。S3：保管・**エグレス課金**（CloudFront向けのみ無料、Cloudflare向けは**インターネット扱い**）。([Amazon Web Services, Inc.][3])                              | ★★☆☆☆ |
| **4) Cloudflare Images に保存して配信** | **運用を最も簡単に**したい／**閲覧回数が少ないサイズ**が多い（ブログの埋め込み等）／**大きめ画像を多数**持つ | **配信課金 vs 変換課金の分岐**：1サイズあたりの月間表示が**50回未満**なら、②より\*\*Delivered課金（\$0.00001/回）\*\*のほうが安いことが多い。**保管コストの分岐**：R2（GB課金）と比べ、**平均 ≈3.41MB/枚**を境に **Images（\$5/10万枚）** が有利になりやすい（100k枚での概算）。([Cloudflare Docs][2])                           | Images：**Stored**（\$5/100k枚・月）＋ **Delivered**（\$1/100k配信）。変換は **Delivered に内包**（Transformedは対象外）。**Browser TTL** で再リクエスト抑制可。([Cloudflare Docs][2]) | ★★★★☆ |

[1]: https://developers.cloudflare.com/r2/pricing/ "Pricing · Cloudflare R2 docs"
[2]: https://developers.cloudflare.com/images/pricing/ "Pricing · Cloudflare Images docs"
[3]: https://aws.amazon.com/s3/pricing/ "S3 Pricing"
