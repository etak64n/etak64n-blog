# 要求定義書: コード品質改善

## 概要

コードベース調査で発見された問題点を一つずつ修正し、プロジェクトの品質を向上させる。

## 変更・追加する機能

本作業は新機能追加ではなく、既存コードの品質改善を目的とする。

### 修正対象

1. **重複コードの削除** - `templates/shortcodes/codebox.html`
2. **不要ファイルの削除** - `.DS_Store` ファイル（7件）
3. **CSS互換性の改善** - `sass/main.scss` の `color-mix()` フォールバック
4. **テンプレートリファクタリング** - `templates/articles/single.html` の `set_global` 削除
5. **スタイル適用** - `templates/taxonomy_list.html` へのCSSクラス追加

## ユーザーストーリー

- 開発者として、重複コードがない状態を維持したい
- 開発者として、リポジトリに不要なファイルを含めたくない
- ユーザーとして、古いブラウザでもスタイルが崩れずに表示されるようにしたい
- 開発者として、保守しやすいテンプレートコードを維持したい
- ユーザーとして、一貫したデザインでコンテンツを閲覧したい

## 受け入れ条件

### 1. 重複コードの削除
- [ ] `codebox.html` の16-17行目（重複した変数代入）が削除されている
- [ ] ショートコードが正常に動作する

### 2. .DS_Store ファイルの削除
- [ ] リポジトリから全ての `.DS_Store` ファイルが削除されている
- [ ] `.gitignore` に `.DS_Store` が記載されている（既存確認）

### 3. CSS互換性の改善
- [ ] `color-mix()` を使用している箇所にフォールバック値が設定されている
- [ ] 古いブラウザでも基本的なスタイルが適用される

### 4. テンプレートリファクタリング
- [ ] `set_global` の使用が削除または最小化されている
- [ ] 関連記事の表示機能が正常に動作する

### 5. スタイル適用
- [ ] `taxonomy_list.html` に適切なCSSクラスが適用されている
- [ ] 他のリスト表示と一貫したデザインになっている

## 制約事項

- 各修正は独立して実施し、一つずつ確認・承認を得る
- 既存の機能を破壊しない
- Zola 0.22 との互換性を維持する
